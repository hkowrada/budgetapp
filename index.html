<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Budget - Standalone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .mobile-menu-open {
            transform: translateX(0);
        }
        .mobile-menu-closed {
            transform: translateX(-100%);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-emerald-50 to-cyan-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-sm border-b border-emerald-100 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-emerald-600 to-cyan-600 bg-clip-text text-transparent">
                        Family Budget
                    </h1>
                    <span class="text-gray-400">|</span>
                    <div class="flex items-center space-x-2">
                        <span class="text-2xl">üëë</span>
                        <span class="px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800">
                            Owner
                        </span>
                    </div>
                </div>
                
                <!-- Desktop Navigation -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#dashboard" class="text-gray-700 hover:text-emerald-600 font-medium transition-colors duration-200">
                        Dashboard
                    </a>
                    <a href="#calendar" class="text-gray-700 hover:text-emerald-600 font-medium transition-colors duration-200">
                        Calendar
                    </a>
                    <a href="#categories" class="text-gray-700 hover:text-emerald-600 font-medium transition-colors duration-200">
                        Categories
                    </a>
                </nav>
                
                <!-- Mobile menu button -->
                <button onclick="toggleMobileMenu()" class="md:hidden p-2 rounded-md text-gray-700 hover:text-emerald-600 hover:bg-emerald-50">
                    <div class="w-6 h-6 flex flex-col justify-center items-center">
                        <span class="bg-current block h-0.5 w-6 rounded-sm transform transition duration-300"></span>
                        <span class="bg-current block h-0.5 w-6 rounded-sm my-0.5 transform transition duration-300"></span>
                        <span class="bg-current block h-0.5 w-6 rounded-sm transform transition duration-300"></span>
                    </div>
                </button>
            </div>
        </div>
        
        <!-- Mobile Navigation Menu -->
        <div id="mobile-menu" class="md:hidden bg-white/95 backdrop-blur-sm border-b border-emerald-100 shadow-lg mobile-menu-closed transition-transform duration-300">
            <div class="max-w-7xl mx-auto px-4 py-4">
                <nav class="flex flex-col space-y-4">
                    <a href="#dashboard" class="text-gray-700 hover:text-emerald-600 font-medium py-2" onclick="toggleMobileMenu()">Dashboard</a>
                    <a href="#calendar" class="text-gray-700 hover:text-emerald-600 font-medium py-2" onclick="toggleMobileMenu()">Calendar</a>
                    <a href="#categories" class="text-gray-700 hover:text-emerald-600 font-medium py-2" onclick="toggleMobileMenu()">Categories</a>
                    <button onclick="showAddExpense(); toggleMobileMenu();" class="bg-emerald-500 hover:bg-emerald-600 text-white font-medium px-4 py-2 rounded-lg mt-4 text-left">
                        üí∞ Add Expense
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Dashboard Section -->
        <section id="dashboard">
            <!-- Key Metrics -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8">
                <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-blue-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Monthly Income</p>
                            <p id="monthly-income" class="text-2xl sm:text-3xl font-bold text-blue-600">‚Ç¨0</p>
                        </div>
                        <div class="h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center">
                            <span class="text-xl sm:text-2xl text-blue-600">üí∞</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-red-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Monthly Expenses</p>
                            <p id="monthly-expenses" class="text-2xl sm:text-3xl font-bold text-red-600">‚Ç¨0</p>
                        </div>
                        <div class="h-12 w-12 bg-red-100 rounded-full flex items-center justify-center">
                            <span class="text-xl sm:text-2xl text-red-600">üí∏</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-green-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Monthly Surplus</p>
                            <p id="monthly-surplus" class="text-2xl sm:text-3xl font-bold text-green-600">‚Ç¨0</p>
                        </div>
                        <div class="h-12 w-12 bg-green-100 rounded-full flex items-center justify-center">
                            <span class="text-xl sm:text-2xl text-green-600">üìà</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-purple-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Savings Rate</p>
                            <p id="savings-rate" class="text-2xl sm:text-3xl font-bold text-purple-600">0%</p>
                        </div>
                        <div class="h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center">
                            <span class="text-xl sm:text-2xl text-purple-600">üéØ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Monthly Salaries -->
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-emerald-100 mb-8">
                <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <span class="mr-2">üíº</span>
                    Monthly Salaries - Current Status
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 rounded-xl p-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-700">Harish (Owner)</p>
                                <p id="harish-salary" class="text-2xl font-bold text-blue-600">‚Ç¨0</p>
                            </div>
                            <button onclick="editSalary('harish')" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-sm">
                                ‚úèÔ∏è Edit
                            </button>
                        </div>
                    </div>
                    <div class="bg-purple-50 rounded-xl p-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-700">DurgaBhavani (Co-owner)</p>
                                <p id="durga-salary" class="text-2xl font-bold text-purple-600">‚Ç¨0</p>
                            </div>
                            <button onclick="editSalary('durga')" class="bg-purple-500 hover:bg-purple-600 text-white px-3 py-1 rounded-lg text-sm">
                                ‚úèÔ∏è Edit
                            </button>
                        </div>
                    </div>
                </div>
                <div class="mt-4 text-center">
                    <p class="text-gray-600">Combined Household Income:</p>
                    <p id="combined-income" class="text-3xl font-bold text-emerald-600">‚Ç¨0/month</p>
                </div>
            </div>

            <!-- Monthly Bills -->
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-orange-100 mb-8">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-bold text-gray-800 flex items-center">
                        <span class="mr-2">üí≥</span>
                        Monthly Bills
                    </h2>
                    <div class="flex space-x-2">
                        <button onclick="showAddExpense()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm">
                            üí∞ Add Expense
                        </button>
                        <button onclick="showAddBill()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">
                            ‚ûï Add Bill
                        </button>
                    </div>
                </div>
                <div id="bills-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Bills will be dynamically inserted here -->
                </div>
            </div>

            <!-- Recent Transactions -->
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100">
                <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <span class="mr-2">üìä</span>
                    Recent Transactions
                </h2>
                <div id="transactions-container">
                    <p class="text-gray-500 text-center py-4">No transactions yet</p>
                </div>
            </div>
        </section>

        <!-- Calendar Section -->
        <section id="calendar" class="hidden">
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-emerald-100">
                <div class="flex items-center justify-between mb-6">
                    <h1 class="text-3xl font-bold text-gray-800 flex items-center">
                        <span class="mr-3">üìÖ</span>
                        Family Calendar
                    </h1>
                    <button onclick="showAddEvent()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg">
                        ‚ûï Add Event
                    </button>
                </div>
                <div id="calendar-container" class="text-center py-8">
                    <p class="text-gray-500">Calendar functionality coming soon!</p>
                </div>
            </div>
        </section>

        <!-- Categories Section -->
        <section id="categories" class="hidden">
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-emerald-100">
                <h1 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <span class="mr-3">üìÇ</span>
                    Categories Management
                </h1>
                <div id="categories-container" class="text-center py-8">
                    <p class="text-gray-500">Categories management coming soon!</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <!-- Salary Edit Modal -->
    <div id="salary-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg p-6 w-full max-w-md">
                <h3 class="text-lg font-bold mb-4">Edit Salary</h3>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">Monthly Salary (‚Ç¨)</label>
                    <input id="salary-input" type="number" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2" placeholder="Enter salary amount">
                </div>
                <div class="flex space-x-3">
                    <button onclick="saveSalary()" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-md">Save</button>
                    <button onclick="closeSalaryModal()" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 rounded-md">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Expense Modal -->
    <div id="expense-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg p-6 w-full max-w-md">
                <h3 class="text-lg font-bold mb-4">Add Expense</h3>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">Description</label>
                    <input id="expense-description" type="text" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2" placeholder="e.g., Groceries, Coffee">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">Amount (‚Ç¨)</label>
                    <input id="expense-amount" type="number" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2" placeholder="0.00">
                </div>
                <div class="flex space-x-3">
                    <button onclick="saveExpense()" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-2 rounded-md">Add Expense</button>
                    <button onclick="closeExpenseModal()" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 rounded-md">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bill Modal -->
    <div id="bill-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg p-6 w-full max-w-md">
                <h3 class="text-lg font-bold mb-4">Add Monthly Bill</h3>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">Bill Name</label>
                    <input id="bill-name" type="text" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2" placeholder="e.g., Electricity, Water">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">Amount (‚Ç¨)</label>
                    <input id="bill-amount" type="number" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2" placeholder="0.00">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">Due Day (1-31)</label>
                    <input id="bill-due-day" type="number" min="1" max="31" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2" placeholder="15">
                </div>
                <div class="flex space-x-3">
                    <button onclick="saveBill()" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-md">Add Bill</button>
                    <button onclick="closeBillModal()" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 rounded-md">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Local Storage Data Management
        const STORAGE_KEYS = {
            salaries: 'family_budget_salaries',
            bills: 'family_budget_bills',
            transactions: 'family_budget_transactions'
        };

        // Initialize default data
        function initializeData() {
            if (!localStorage.getItem(STORAGE_KEYS.salaries)) {
                const defaultSalaries = {
                    harish: 3200,
                    durga: 2800
                };
                localStorage.setItem(STORAGE_KEYS.salaries, JSON.stringify(defaultSalaries));
            }

            if (!localStorage.getItem(STORAGE_KEYS.bills)) {
                const defaultBills = [
                    { id: 'bill_1', name: 'Electricity Bill', amount: 90, dueDay: 15 },
                    { id: 'bill_2', name: 'Water Bill', amount: 30, dueDay: 5 },
                    { id: 'bill_3', name: 'Internet & WiFi', amount: 35, dueDay: 1 },
                    { id: 'bill_4', name: 'Mobile Phone', amount: 45, dueDay: 10 },
                    { id: 'bill_5', name: 'Home Insurance', amount: 18, dueDay: 20 },
                    { id: 'bill_6', name: 'Home Loan EMI', amount: 1000, dueDay: 1 }
                ];
                localStorage.setItem(STORAGE_KEYS.bills, JSON.stringify(defaultBills));
            }

            if (!localStorage.getItem(STORAGE_KEYS.transactions)) {
                localStorage.setItem(STORAGE_KEYS.transactions, JSON.stringify([]));
            }
        }

        // Get data from localStorage
        function getData(key) {
            return JSON.parse(localStorage.getItem(key) || '{}');
        }

        function setData(key, data) {
            localStorage.setItem(key, JSON.stringify(data));
        }

        // Update dashboard
        function updateDashboard() {
            const salaries = getData(STORAGE_KEYS.salaries);
            const bills = JSON.parse(localStorage.getItem(STORAGE_KEYS.bills) || '[]');
            const transactions = JSON.parse(localStorage.getItem(STORAGE_KEYS.transactions) || '[]');

            // Calculate totals
            const monthlyIncome = (salaries.harish || 0) + (salaries.durga || 0);
            const monthlyBills = bills.reduce((total, bill) => total + bill.amount, 0);
            const monthlyExpenses = monthlyBills + transactions.reduce((total, txn) => total + (txn.amount || 0), 0);
            const monthlySurplus = monthlyIncome - monthlyExpenses;
            const savingsRate = monthlyIncome > 0 ? ((monthlySurplus / monthlyIncome) * 100).toFixed(1) : 0;

            // Update display
            document.getElementById('monthly-income').textContent = `‚Ç¨${monthlyIncome.toLocaleString()}`;
            document.getElementById('monthly-expenses').textContent = `‚Ç¨${monthlyExpenses.toLocaleString()}`;
            document.getElementById('monthly-surplus').textContent = `‚Ç¨${monthlySurplus.toLocaleString()}`;
            document.getElementById('savings-rate').textContent = `${savingsRate}%`;
            
            document.getElementById('harish-salary').textContent = `‚Ç¨${(salaries.harish || 0).toLocaleString()}`;
            document.getElementById('durga-salary').textContent = `‚Ç¨${(salaries.durga || 0).toLocaleString()}`;
            document.getElementById('combined-income').textContent = `‚Ç¨${monthlyIncome.toLocaleString()}/month`;

            // Update bills
            updateBillsDisplay();
            updateTransactionsDisplay();
        }

        function updateBillsDisplay() {
            const bills = JSON.parse(localStorage.getItem(STORAGE_KEYS.bills) || '[]');
            const container = document.getElementById('bills-container');
            
            container.innerHTML = bills.map(bill => `
                <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-blue-100 hover:border-blue-200 transition-colors relative">
                    <button onclick="deleteBill('${bill.id}')" class="absolute top-2 right-2 text-red-500 hover:text-red-700 text-sm">
                        üóëÔ∏è
                    </button>
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <p class="text-sm font-semibold text-gray-600 flex items-center">
                                <span class="mr-2 text-lg">${getBillIcon(bill.name)}</span>
                                ${bill.name}
                            </p>
                            <p class="text-xs text-gray-500 mb-2">Due: ${bill.dueDay} of every month</p>
                            <div class="flex items-center space-x-2 mt-1">
                                <p class="text-lg font-bold text-blue-600">‚Ç¨${bill.amount.toLocaleString()}</p>
                                <button onclick="editBill('${bill.id}')" class="text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-2 py-1 text-xs rounded">
                                    ‚úèÔ∏è Edit
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateTransactionsDisplay() {
            const transactions = JSON.parse(localStorage.getItem(STORAGE_KEYS.transactions) || '[]');
            const container = document.getElementById('transactions-container');
            
            if (transactions.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">No transactions yet</p>';
                return;
            }
            
            container.innerHTML = transactions.slice(-10).reverse().map(txn => `
                <div class="flex justify-between items-center py-3 border-b border-gray-100 last:border-b-0">
                    <div>
                        <p class="font-medium text-gray-800">${txn.description}</p>
                        <p class="text-sm text-gray-500">${new Date(txn.date).toLocaleDateString()}</p>
                    </div>
                    <p class="font-bold text-red-600">‚Ç¨${txn.amount.toLocaleString()}</p>
                </div>
            `).join('');
        }

        function getBillIcon(billName) {
            const name = billName.toLowerCase();
            if (name.includes('electricity')) return '‚ö°';
            if (name.includes('water')) return 'üíß';
            if (name.includes('internet') || name.includes('wifi')) return 'üì∂';
            if (name.includes('mobile') || name.includes('phone')) return 'üì±';
            if (name.includes('insurance')) return 'üõ°Ô∏è';
            if (name.includes('loan') || name.includes('emi')) return 'üè†';
            return 'üíµ';
        }

        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('section').forEach(section => section.classList.add('hidden'));
            document.getElementById(sectionId).classList.remove('hidden');
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('mobile-menu-closed');
            menu.classList.toggle('mobile-menu-open');
        }

        // Salary management
        let currentSalaryUser = '';

        function editSalary(user) {
            currentSalaryUser = user;
            const salaries = getData(STORAGE_KEYS.salaries);
            document.getElementById('salary-input').value = salaries[user] || 0;
            document.getElementById('salary-modal').classList.remove('hidden');
        }

        function saveSalary() {
            const amount = parseFloat(document.getElementById('salary-input').value) || 0;
            const salaries = getData(STORAGE_KEYS.salaries);
            salaries[currentSalaryUser] = amount;
            setData(STORAGE_KEYS.salaries, salaries);
            closeSalaryModal();
            updateDashboard();
            showToast(`Salary updated to ‚Ç¨${amount.toLocaleString()}`);
        }

        function closeSalaryModal() {
            document.getElementById('salary-modal').classList.add('hidden');
        }

        // Expense management
        function showAddExpense() {
            document.getElementById('expense-modal').classList.remove('hidden');
        }

        function saveExpense() {
            const description = document.getElementById('expense-description').value.trim();
            const amount = parseFloat(document.getElementById('expense-amount').value) || 0;
            
            if (!description || amount <= 0) {
                alert('Please enter valid description and amount');
                return;
            }

            const transactions = JSON.parse(localStorage.getItem(STORAGE_KEYS.transactions) || '[]');
            transactions.push({
                id: Date.now(),
                description,
                amount,
                date: new Date().toISOString()
            });
            
            localStorage.setItem(STORAGE_KEYS.transactions, JSON.stringify(transactions));
            closeExpenseModal();
            updateDashboard();
            showToast(`Added expense: ‚Ç¨${amount.toLocaleString()} - ${description}`);
        }

        function closeExpenseModal() {
            document.getElementById('expense-modal').classList.add('hidden');
            document.getElementById('expense-description').value = '';
            document.getElementById('expense-amount').value = '';
        }

        // Bill management
        function showAddBill() {
            document.getElementById('bill-modal').classList.remove('hidden');
        }

        function saveBill() {
            const name = document.getElementById('bill-name').value.trim();
            const amount = parseFloat(document.getElementById('bill-amount').value) || 0;
            const dueDay = parseInt(document.getElementById('bill-due-day').value) || 15;
            
            if (!name || amount <= 0) {
                alert('Please enter valid bill name and amount');
                return;
            }

            const bills = JSON.parse(localStorage.getItem(STORAGE_KEYS.bills) || '[]');
            bills.push({
                id: 'bill_' + Date.now(),
                name,
                amount,
                dueDay
            });
            
            localStorage.setItem(STORAGE_KEYS.bills, JSON.stringify(bills));
            closeBillModal();
            updateDashboard();
            showToast(`Added bill: ${name} - ‚Ç¨${amount.toLocaleString()}`);
        }

        function closeBillModal() {
            document.getElementById('bill-modal').classList.add('hidden');
            document.getElementById('bill-name').value = '';
            document.getElementById('bill-amount').value = '';
            document.getElementById('bill-due-day').value = '';
        }

        function editBill(billId) {
            const bills = JSON.parse(localStorage.getItem(STORAGE_KEYS.bills) || '[]');
            const bill = bills.find(b => b.id === billId);
            if (!bill) return;

            const newAmount = prompt(`Edit ${bill.name} amount:`, bill.amount);
            if (newAmount && !isNaN(parseFloat(newAmount))) {
                bill.amount = parseFloat(newAmount);
                localStorage.setItem(STORAGE_KEYS.bills, JSON.stringify(bills));
                updateDashboard();
                showToast(`Updated ${bill.name} to ‚Ç¨${bill.amount.toLocaleString()}`);
            }
        }

        function deleteBill(billId) {
            if (!confirm('Are you sure you want to delete this bill?')) return;
            
            let bills = JSON.parse(localStorage.getItem(STORAGE_KEYS.bills) || '[]');
            bills = bills.filter(bill => bill.id !== billId);
            localStorage.setItem(STORAGE_KEYS.bills, JSON.stringify(bills));
            updateDashboard();
            showToast('Bill deleted successfully');
        }

        // Toast notifications
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => toast.classList.add('opacity-0'), 3000);
            setTimeout(() => document.body.removeChild(toast), 3500);
        }

        // Hash navigation
        window.addEventListener('hashchange', () => {
            const hash = window.location.hash.slice(1) || 'dashboard';
            showSection(hash);
        });

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            initializeData();
            updateDashboard();
            
            // Show initial section based on hash
            const hash = window.location.hash.slice(1) || 'dashboard';
            showSection(hash);
        });
    </script>
</body>
</html>